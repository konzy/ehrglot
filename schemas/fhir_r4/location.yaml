# FHIR R4 Location Resource Schema
# https://www.hl7.org/fhir/R4/location.html

resource: Location
version: R4
fhir_url: https://www.hl7.org/fhir/R4/location.html
description: Details of a physical place

fields:
  - name: id
    type: id
    required: true
    description: Logical id

  - name: identifier
    type: array<Identifier>
    description: Unique code or number for location

  - name: status
    type: code
    enum: [active, suspended, inactive]
    description: Active, suspended, inactive

  - name: operationalStatus
    type: Coding
    description: Operational status of location

  - name: name
    type: string
    description: Name of the location

  - name: alias
    type: array<string>
    description: Other names location is known by

  - name: description
    type: string
    description: Additional details about location

  - name: mode
    type: code
    enum: [instance, kind]
    description: Instance or kind

  - name: type
    type: array<CodeableConcept>
    description: Type of function performed

  - name: telecom
    type: array<ContactPoint>
    description: Contact details

  - name: address
    type: Address
    description: Physical location
    pii_level: low
    pii_category: geographic
    hipaa_identifier: geographic_data
    masking_strategy: generalize
    masking_params:
      keep_state: true

  - name: physicalType
    type: CodeableConcept
    description: Physical form of location

  - name: position
    type: BackboneElement
    description: GPS coordinates
    pii_level: medium
    pii_category: geographic
    hipaa_identifier: geographic_data
    masking_strategy: suppress
    fields:
      - name: longitude
        type: decimal
        required: true
        description: Longitude with WGS84 datum
      - name: latitude
        type: decimal
        required: true
        description: Latitude with WGS84 datum
      - name: altitude
        type: decimal
        description: Altitude with WGS84 datum

  - name: managingOrganization
    type: Reference
    description: Organization responsible for provisioning

  - name: partOf
    type: Reference
    description: Another location this is part of

  - name: hoursOfOperation
    type: array<BackboneElement>
    description: Hours of operation
    fields:
      - name: daysOfWeek
        type: array<code>
        enum: [mon, tue, wed, thu, fri, sat, sun]
        description: Days of week
      - name: allDay
        type: boolean
        description: Always available
      - name: openingTime
        type: time
        description: Opening time of day
      - name: closingTime
        type: time
        description: Closing time of day

  - name: availabilityExceptions
    type: string
    description: Description of availability exceptions

  - name: endpoint
    type: array<Reference>
    description: Technical endpoints
