# Meditech to FHIR R4 Practitioner Mapping

source_system: meditech
source_table: ADM.PROVIDER
target_resource: Practitioner

source_schema:
  database: MEDITECH
  table: ADM.PROVIDER

field_mappings:
  - source: PROVIDER_ID
    target: id
    transform: to_string

  - source: NPI
    target: identifier[0].value
    transform: null
    target_context:
      identifier[0].system: "http://hl7.org/fhir/sid/us-npi"
    skip_if_null: true

  - source: DEA_NUMBER
    target: identifier[1].value
    transform: null
    target_context:
      identifier[1].system: "urn:oid:2.16.840.1.113883.4.814"
    skip_if_null: true

  - source: ACTIVE_FLAG
    target: active
    transform: meditech_active_to_boolean

  - source: FIRST_NAME
    target: name[0].given[0]
    transform: null

  - source: LAST_NAME
    target: name[0].family
    transform: null

  - source: TITLE
    target: name[0].prefix[0]
    transform: null
    skip_if_null: true

  - source: CREDENTIALS
    target: name[0].suffix[0]
    transform: null
    skip_if_null: true

  - source: WORK_PHONE
    target: telecom[0].value
    transform: normalize_phone
    target_context:
      telecom[0].system: phone
      telecom[0].use: work
    skip_if_null: true

  - source: EMAIL
    target: telecom[1].value
    transform: null
    target_context:
      telecom[1].system: email
    skip_if_null: true

  - source: SPECIALTY
    target: qualification[0].code.text
    transform: null
    skip_if_null: true
